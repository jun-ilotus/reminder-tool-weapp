### 贴心工具微信小程序

### 前端
微信小程序 taro3 + vue3 + nutui + typeScript + pinia

### 后端
基于大佬的 go-zero-looklook 项目快速开发

go-zero
nginx网关
prometheus
asynq
asynqmon
etcd
dtm
kafka
zookeeper
docker
docker-compose
mysql
redis
modd

## 功能介绍
### 事项提醒
使用 asynq 延迟队列，到点调用微信小程序通知接口

### 日期记录 

### 签到功能
基于 dtm 实现跨服务分布式事务控制，保障签到记录、任务完成、积分增减业务的数据一致性。

基于 asynq 的 shedule 实现用户订阅签到提醒

### 抽奖功能
#### 按时间开奖
- 根据设定的开奖时间，在指定的时间点触发开奖逻辑。这种策略适用于定时开奖的场景，例如每天固定时间进行抽奖活动。
- 使用 asynq 的 shedule 定时服务每分钟轮询检查是否有到时间需要开奖的抽奖

#### 按人数开奖
- 根据设定的参与人数，在达到指定的人数后触发开奖逻辑。这种策略适用于人数达到一定阈值后进行开奖的场景，例如需要一定数量用户参与后才能进行抽奖。
- 按人数抽奖为防止超卖，将库存提前保存在Redis中，然后利用 redis + lua 脚本控制库存的扣减
- 当 redis 中未保存有库存数据时， 使用 set 加锁，获得到锁的去数据库中查询库存，没获得到的返回

### 微信通知
将各服务需要向用户通知的模块分离出来，使用 kafka 进行异步处理，其他有通知需求的服务为消息生产者，通知服务为消息消费者